#include <stdio.h> // printf
#include <stdlib.h> // exit

data Expr {
    Add { x: data Expr *, y: data Expr *, },
    Const { value: int, },
}

fn main() -> int {
    let one: data Expr = Expr::Const { value: 1 };
    let two: data Expr = Expr::Const { value: 2 };
    let e: data Expr = Expr::Add { x: &one, y: &two };
    let Expr::Add { x = x: struct Expr *, y = y: struct Expr * } = e;
    let Expr::Const { value = xv: int } = *x;
    let Expr::Const { value = yv: int } = *y;
    printf("%d + %d\n", xv, yv);
    printf("working\n");
    return 0;
}
